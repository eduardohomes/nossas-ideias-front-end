<h1>Comentar tarefa</h1>

<div class="well">
  <form #formComentario="ngForm">
    <div class="form-group">
      <label for="nome">Comentario</label>
      <input 
        type="text"
        class="form-control"
        id="comentario"
        name="comentario"
        [(ngModel)]="tarefa.comentario"
        #comentario="ngModel"
        minlength="5" 
        required> 
      <div *ngIf="comentario.errors && (comentario.dirty || comentario.touched)"
           class="alert alert-danger">
        <div [hidden]="!comentario.errors.required">
          Digite a tarefa.
        </div>
        <div [hidden]="!comentario.errors.minlength">
          A tarefa deve conter ao menos 5 caracteres.
        </div>
      </div>
    </div>   
    <div class="form-group text-center">
        <button  class="btn btn-success"                        
          type="submit"
          (click)="comentar(tarefa.comentario)"
          [disabled]="!formComentario.form.valid"               
        > Salvar
        </button>
      <a [routerLink]="['/tarefas']"
        class="btn btn-default">
        <span class="glyphicon glyphicon-chevron-left" 
          aria-hidden="true"></span> Voltar
      </a>
    </div>
  </form>
</div>

<table class="table table-striped table-bordered table-hover">
    <tr>
      <th class="text-rigth">Nome da Ideia</th>
      <th class="text-rigth">Descrição da Ideia</th>
      <th class="text-rigth">Situação da Ideia</th>
      <th></th>
      <th></th>
    </tr>
    <tr *ngFor="let tarefa of tarefas">
      <td class="table-active text-rigth">
        {{ tarefa.nome }}
      </td>
      <td class="table-active text-rigth">
        {{ tarefa.descricao }}
      </td>
      <td class="table-active text-rigth" style="width: 200px">
        {{ tarefa.situacao }}
      </td>
      <td class="text-center" style="width: 100px">
        <a [routerLink]="['/tarefas/editar/'+tarefa.id]"
          title="Editar" alt="Editar"
          class="btn btn-xs btn-info">
          <span class="glyphicon glyphicon-pencil" 
            aria-hidden="true"></span> Editar
        </a>
      </td>
      <td class="text-center" style="width: 100px">      
          <a href="#" title="Remover" alt="Remover" 
            (click)="remover($event, tarefa)"
            class="btn btn-xs btn-danger">
            <span class="glyphicon glyphicon-remove" 
              aria-hidden="true"></span> Remover
          </a>
      </td>
    </tr>
  </table>